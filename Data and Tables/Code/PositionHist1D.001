import matplotlib.pyplot as plt
from csv import reader
import numpy as np
from math import *

'''
Below we will rotate the star positions plot.
We rotate the plot enough for the stream line to be completely vertical.
The stream line will also be graphed.
'''

# function to rotate coordinates     
def rotate(a, b, angle):

     x = [80.297,-24.52]
     y = [a, b]

     xx = y[0]-x[0]
     yy = y[1]-x[1]

     newx = (xx*cos(radians(angle))) - (yy*sin(radians(angle)))

     newy = (xx*sin(radians(angle))) + (yy*cos(radians(angle)))

     newx+= x[0]

     newy+= x[1]

     return newx,newy

# opens and reads data from csv file
with open('4milNoSpec.csv', 'r') as f:
     data_1 = list(reader(f))
    
with open('4milUpper.csv','r') as j:
     data_2 = list(reader(j))
    
# stores variables needed for plotting
objID_1 = [i[0] for i in data_1]
l_1 = [i[1] for i in data_1]
b_1 = [i[2] for i in data_1]
# storing more variables from separate query to cover more points
objID_2 = [i[0] for i in data_2]
l_2 = [i[1] for i in data_2]
b_2 = [i[2] for i in data_2]

# removes strings from lists
l_1.pop(0)
b_1.pop(0)
l_2.pop(0)
b_2.pop(0)

# adds data points from other query
l_1.extend(l_2)
b_1.extend(b_2)

# lists to store shifted coordinates in
new_l = []
new_b = []

'''
Now that we have the plot roated, we can make a position density graph.
This plot will show us how many stars share each x-coordinate.
'''

plt.hist(new_l, 1000, normed=1, facecolor='green', alpha=0.75)
